{"ast":null,"code":"// import * as types from '../actions/index'\nimport * as types from './../constans/index'; // var data = JSON.parse(localStorage.setItem(\"CART\"))\n// var initialState = data ? data : []\n\nvar initialState = [{\n  product: {\n    id: 1,\n    name: \"iPhone 13 pro max\",\n    image1: \"https://cdn.tgdd.vn/Products/Images/42/230521/iphone-13-pro-gold-1-1.jpg\",\n    image2: \"https://cdn.tgdd.vn/Products/Images/42/230521/iphone-13-pro-gold-2.jpg\",\n    price: 1000,\n    description: \"\",\n    inventory: 33,\n    rating: 5\n  },\n  quantity: 1\n}, {\n  product: {\n    id: 2,\n    name: \"iPhone XS max\",\n    image1: \"https://cdn.tgdd.vn/Products/Images/42/190322/iphone-xs-max-256gb-xam-1-1-org.jpg\",\n    image2: \"https://cdn.tgdd.vn/Products/Images/42/190322/iphone-xs-max-256gb-mau-vang-dong-1-org.jpg\",\n    price: 900,\n    description: \"\",\n    inventory: 33,\n    rating: 3\n  },\n  quantity: 5\n}, {\n  product: {\n    id: 3,\n    name: \"iPad Pro M1\",\n    image1: \"https://cdn.tgdd.vn/Products/Images/522/238651/ipad-pro-m1-129-inch-wifi-cellular-256gb-2021-xam-1-org.jpg\",\n    image2: \"https://cdn.tgdd.vn/Products/Images/522/238651/ipad-pro-m1-129-inch-wifi-cellular-256gb-2021-xam-2-org.jpg\",\n    price: 1500,\n    description: \"\",\n    inventory: 33,\n    rating: 4\n  },\n  quantity: 3\n}];\n\nconst cart = (state = initialState, action) => {\n  let {\n    product,\n    quantity\n  } = action;\n  let index = -1;\n\n  switch (action.type) {\n    case types.ADD_TO_CART:\n      index = findProductInCart(state, product);\n\n      if (index !== -1) {\n        state[index].quantity += quantity;\n      } else {\n        state.push({\n          product,\n          quantity\n        });\n      } //console.log(action);\n\n\n      return [...state];\n\n    default:\n      return [...state];\n  }\n};\n\nlet findProductInCart = (cart, product) => {\n  let index = -1;\n\n  if (cart.length > 0) {\n    for (let i = 0; i < cart.length; i++) {\n      if (cart[i].product.id === product.id) {\n        console.log(index);\n        index = i;\n        break;\n      }\n    }\n  }\n\n  return index;\n};\n\nexport default cart;","map":{"version":3,"sources":["D:/Hoc Tap/cartproject/src/reducers/cart.js"],"names":["types","initialState","product","id","name","image1","image2","price","description","inventory","rating","quantity","cart","state","action","index","type","ADD_TO_CART","findProductInCart","push","length","i","console","log"],"mappings":"AAAA;AACA,OAAO,KAAKA,KAAZ,MAAuB,qBAAvB,C,CAEA;AAEA;;AAEA,IAAIC,YAAY,GAAG,CACf;AACIC,EAAAA,OAAO,EAAG;AACNC,IAAAA,EAAE,EAAC,CADG;AAENC,IAAAA,IAAI,EAAE,mBAFA;AAGNC,IAAAA,MAAM,EAAC,0EAHD;AAINC,IAAAA,MAAM,EAAE,wEAJF;AAKNC,IAAAA,KAAK,EAAC,IALA;AAMNC,IAAAA,WAAW,EAAC,EANN;AAONC,IAAAA,SAAS,EAAC,EAPJ;AAQNC,IAAAA,MAAM,EAAE;AARF,GADd;AAWIC,EAAAA,QAAQ,EAAG;AAXf,CADe,EAcf;AACIT,EAAAA,OAAO,EAAG;AACNC,IAAAA,EAAE,EAAC,CADG;AAENC,IAAAA,IAAI,EAAE,eAFA;AAGNC,IAAAA,MAAM,EAAC,mFAHD;AAINC,IAAAA,MAAM,EAAE,2FAJF;AAKNC,IAAAA,KAAK,EAAC,GALA;AAMNC,IAAAA,WAAW,EAAC,EANN;AAONC,IAAAA,SAAS,EAAC,EAPJ;AAQNC,IAAAA,MAAM,EAAE;AARF,GADd;AAWIC,EAAAA,QAAQ,EAAG;AAXf,CAde,EA2Bf;AACIT,EAAAA,OAAO,EAAG;AACNC,IAAAA,EAAE,EAAC,CADG;AAENC,IAAAA,IAAI,EAAE,aAFA;AAGNC,IAAAA,MAAM,EAAC,4GAHD;AAINC,IAAAA,MAAM,EAAE,4GAJF;AAKNC,IAAAA,KAAK,EAAC,IALA;AAMNC,IAAAA,WAAW,EAAC,EANN;AAONC,IAAAA,SAAS,EAAC,EAPJ;AAQNC,IAAAA,MAAM,EAAE;AARF,GADd;AAWIC,EAAAA,QAAQ,EAAG;AAXf,CA3Be,CAAnB;;AA2CA,MAAMC,IAAI,GAAG,CAACC,KAAK,GAAGZ,YAAT,EAAuBa,MAAvB,KAAkC;AAC3C,MAAI;AAACZ,IAAAA,OAAD;AAAUS,IAAAA;AAAV,MAAsBG,MAA1B;AACA,MAAIC,KAAK,GAAG,CAAC,CAAb;;AACA,UAAOD,MAAM,CAACE,IAAd;AACI,SAAKhB,KAAK,CAACiB,WAAX;AACIF,MAAAA,KAAK,GAAGG,iBAAiB,CAACL,KAAD,EAAQX,OAAR,CAAzB;;AACA,UAAGa,KAAK,KAAK,CAAC,CAAd,EAAgB;AACZF,QAAAA,KAAK,CAACE,KAAD,CAAL,CAAaJ,QAAb,IAAyBA,QAAzB;AACH,OAFD,MAEK;AACDE,QAAAA,KAAK,CAACM,IAAN,CAAW;AACXjB,UAAAA,OADW;AAEXS,UAAAA;AAFW,SAAX;AAIH,OATL,CAUI;;;AACA,aAAO,CAAC,GAAGE,KAAJ,CAAP;;AACJ;AAAU,aAAO,CAAC,GAAGA,KAAJ,CAAP;AAbd;AAeH,CAlBD;;AAmBC,IAAIK,iBAAiB,GAAE,CAACN,IAAD,EAAOV,OAAP,KAAmB;AACtC,MAAIa,KAAK,GAAE,CAAC,CAAZ;;AACD,MAAGH,IAAI,CAACQ,MAAL,GAAc,CAAjB,EAAmB;AACf,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,IAAI,CAACQ,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AAClC,UAAGT,IAAI,CAACS,CAAD,CAAJ,CAAQnB,OAAR,CAAgBC,EAAhB,KAAuBD,OAAO,CAACC,EAAlC,EAAqC;AACjCmB,QAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACAA,QAAAA,KAAK,GAAGM,CAAR;AACA;AACH;AAEH;AACL;;AACA,SAAON,KAAP;AACH,CAbD;;AAeD,eAAeH,IAAf","sourcesContent":["// import * as types from '../actions/index'\r\nimport * as types from './../constans/index'\r\n\r\n// var data = JSON.parse(localStorage.setItem(\"CART\"))\r\n\r\n// var initialState = data ? data : []\r\n\r\nvar initialState = [\r\n    {\r\n        product : {\r\n            id:1,\r\n            name: \"iPhone 13 pro max\",\r\n            image1:\"https://cdn.tgdd.vn/Products/Images/42/230521/iphone-13-pro-gold-1-1.jpg\",\r\n            image2: \"https://cdn.tgdd.vn/Products/Images/42/230521/iphone-13-pro-gold-2.jpg\",\r\n            price:1000,\r\n            description:\"\",\r\n            inventory:33,\r\n            rating: 5\r\n        },\r\n        quantity : 1\r\n    },\r\n    {\r\n        product : {\r\n            id:2,\r\n            name: \"iPhone XS max\",\r\n            image1:\"https://cdn.tgdd.vn/Products/Images/42/190322/iphone-xs-max-256gb-xam-1-1-org.jpg\",\r\n            image2: \"https://cdn.tgdd.vn/Products/Images/42/190322/iphone-xs-max-256gb-mau-vang-dong-1-org.jpg\",\r\n            price:900,\r\n            description:\"\",\r\n            inventory:33,\r\n            rating: 3\r\n        },\r\n        quantity : 5\r\n    },\r\n    {\r\n        product : {\r\n            id:3,\r\n            name: \"iPad Pro M1\",\r\n            image1:\"https://cdn.tgdd.vn/Products/Images/522/238651/ipad-pro-m1-129-inch-wifi-cellular-256gb-2021-xam-1-org.jpg\",\r\n            image2: \"https://cdn.tgdd.vn/Products/Images/522/238651/ipad-pro-m1-129-inch-wifi-cellular-256gb-2021-xam-2-org.jpg\",\r\n            price:1500,\r\n            description:\"\",\r\n            inventory:33,\r\n            rating: 4\r\n        },\r\n        quantity : 3\r\n    },\r\n    \r\n]\r\n\r\nconst cart = (state = initialState, action) => {\r\n    let {product, quantity} = action;\r\n    let index = -1;\r\n    switch(action.type){\r\n        case types.ADD_TO_CART:\r\n            index = findProductInCart(state, product)\r\n            if(index !== -1){\r\n                state[index].quantity += quantity\r\n            }else{\r\n                state.push({\r\n                product,\r\n                quantity\r\n            })\r\n            }\r\n            //console.log(action);\r\n            return [...state]\r\n        default : return [...state]\r\n    }\r\n}\r\n let findProductInCart =(cart, product) => {\r\n     let index =-1;\r\n    if(cart.length > 0){\r\n        for (let i = 0; i < cart.length; i++) {\r\n            if(cart[i].product.id === product.id){\r\n                console.log(index);\r\n                index = i;\r\n                break;\r\n            }\r\n             \r\n         }\r\n    }\r\n     return index\r\n }\r\n\r\nexport default cart"]},"metadata":{},"sourceType":"module"}